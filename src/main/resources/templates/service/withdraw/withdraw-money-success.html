<html xmlns:th="http://www.thymeleaf.org">
 <div th:insert="~{@{reusable-code/header}}"></div>
<style>
 th,td{
  text-align: left;
 }
</style>
<body class="bg-light text-center">
  <div class='bg-image'>
   <div class="container py-1">
   		<div>
           <label class='fs-3 text-white text-decoration-underline'>Withdraw Money Success</label>
        </div>
		<div id="receipt-content">
        <div class="card mx-auto shadow" style="max-width:50%;">
            <div class="card-body">
            	<div class="table">
            		<table class="table table-bordered">
            		  <tr>
            		    <th>Transaction Id</th>
            		     <td th:text="${transaction.tid}"></td>
            		  </tr>	
            		  <tr>
            		    <th>From Account</th>
            		    <td th:text="${transaction.fromaccount}"></td>
            		  </tr>
            		  <tr>
            		    <th>To Account</th>
            		    <td>Self</td>
            		  </tr>
            		  <tr>
            		    <th>Account holder</th>
            		    <td th:text="${session.username}"></td>
            		  </tr>
            		  <tr>
            		    <th>Amount</th>
            		    <td class="text-danger" th:text="${'&#8377;'+transaction.amount}"></td>
            		  </tr>
            		  <tr>
            		    <th>Date and Time</th>
            		    <td><span th:text="${transaction.date}"></span><span style='margin-left:4px' th:text="${transaction.time}"></span></td>
            		  </tr>
            		  <tr>
            		    <th>Transaction Type</th>
            		    <td class="text-danger" th:text="${transaction.type}"></td>
            		  </tr>
            		</table>	
            	</div>
            </div>
			</div>
        </div>
    </div>
    <div>
     <a href="/bankingApp" class='btn btn-primary'>Back Home</a>
     <a href="#" class='btn btn-secondary' onclick="downloadPDF()">Download Receipt</a>
    </div>
   </div> 
 	<div th:insert="~{@{reusable-code/footer}}"></div>
	<script>
	        function downloadPDF() {
	            const element = document.getElementById('receipt-content');
	            const opt = {
	                margin:       0.5,
	                filename:     'transfer_receipt.pdf',
	                image:        { type: 'jpeg', quality: 0.98 },
	                html2canvas:  { scale: 2 },
	                jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
	            };
	            html2pdf().set(opt).from(element).save();
	        }
	    </script>
</body>
</html>